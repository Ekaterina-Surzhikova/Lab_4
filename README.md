# Суржикова Екатерина ИТ-14. Лабораторная №4 вариант 5
## 1.1.	
Обобщенная коробка. Создайте сущность Коробка, которая обладает следующими характеристиками: • Может хранить один произвольный объект в один момент времени. • Объект можно получить и разместить на хранение в любой момент времени. • Если объект забирают из коробки – ссылку на этот объект необходимо обнулить. • Если объект кладут в коробку, но она не пуста – необходимо выкинуть исключение. • Имеет метод проверки на заполненность. • Методы класса должны работать с тем типом данных, который был указан во время создания объекта Создайте Коробку которая может хранить целочисленное значение, разместите туда число 3. Передайте Коробку в какой-либо метод, извлеките значение, и выведите его на экран.

Алгоритм решения

Класс GeneralizedBox - это обобщенный (generic) класс, параметризованный типом T, что позволяет работать с любыми типами данных.

Поля:

private T obj - единственное поле для хранения объекта

Конструкторы:

GeneralizedBox() - создает пустую коробку (obj = null)

GeneralizedBox(T obj) - создает коробку с уже размещенным объектом

GeneralizedBox(GeneralizedBox<T> generalizedBox) - конструктор копирования с проверкой на null

Основные методы:

getObj() - возвращает ссылку на объект без его удаления

setObj(T obj) - добавляет объект в коробку, вызывает busyBox() для проверки занятости

take() - извлекает объект из коробки, вызывает freeBox() для проверки наличия объекта, обнуляет поле obj после извлечения

isEmpty() - проверяет, пуста ли коробка (obj == null)

Вспомогательные приватные методы:

busyBox() - проверяет, что коробка свободна перед добавлением, иначе выбрасывает IllegalStateException

freeBox() - проверяет, что коробка не пуста перед извлечением, иначе выбрасывает IllegalStateException

Переопределенный метод:

toString() - возвращает строковое представление состояния коробки

Тестирование

=== Демонстрация Box ===

Коробка после помещения числа: Содержимое коробки: 3

Просмотренное значение: 3

Коробка после просмотра: Содержимое коробки: 3

Извлеченное значение: 3

Коробка после извлечения: Содержимое коробки: пусто

Ошибка: Коробка уже занята!
## 1.2.	
Без null. Создайте сущность Хранилище, которая обладает следующими характеристиками: • Может хранить один произвольный объект в один момент времени. • Хранилище неизменяемо. • Объект кладется в Хранилище при его создании. В качестве объекта может быть сохранено также и значение null. • Хранилище может вернуть ссылку на Объект. • Если вместо объекта хранится null, необходимо вернуть какое-либо альтернативное значение. • Метод получения значения должен работать с тем типом данных, который был указан во время создания объекта Выполните следующие задания: • Создайте Хранилище чисел, положите туда значение null. Передайте Хранилище в какой либо метод, извлеките значение, и выведите его на экран. Альтернативой должно быть число 0. • Создайте Хранилище чисел, положите туда значение 99. Передайте Хранилище в какой либо метод, извлеките значение, и выведите его на экран. Альтернативой должно быть число -1. • Создайте Хранилище строк, положите туда значение null. Передайте Хранилище в какой либо метод, извлеките значение, и выведите его на экран. Альтернативой должна быть строка “default”. • Создайте Хранилище строк, положите туда значение “hello”. Передайте Хранилище в какой-либо метод, извлеките значение, и выведите его на экран. Альтернативой должна быть строка “hello world”.

Алгоритм решения

Класс Storage - обобщенный класс с гарантированным возвратом значения.

Поля:

private final T item - основное значение

private final T alternative - резервное значение

Конструктор:

Storage(T item, T alternative) - инициализирует оба значения

Методы:

getItem() - возвращает item если не null, иначе alternative

toString() - строковое представление хранилища

Тестирование

=== Демонстрация Storage ===

Хранилище чисел с null: 0

Хранилище чисел со значением: 99

Хранилище строк с null: default

Хранилище строк со значением: hello
## 2.3. 
Начало отсчета. Создайте метод, принимающий Коробку из задачи 3.1.1, и кладет в неё трехмерную точку координат (из задачи 2.1.5) с произвольными значениями. Метод должен позволять передавать Коробку с более чем одним видом параметризации.

Алгоритм решения

Создан класс Point3D для представления трехмерной точки и класс BoxService для работы с коробками, содержащими точки.

Класс Point3D:

Поля: x, y, z - координаты точки

Конструктор: Point3D(double x, double y, double z) - инициализация координат

Геттеры: getX(), getY(), getZ() - доступ к координатам

toString() - строковое представление точки

Класс BoxService:

putPointInBox(GeneralizedBox<Point3D> box) - создает точку с вводом координат от пользователя и помещает в коробку

readDouble(String prompt) - безопасный ввод дробных чисел с проверкой

Тестирование

=== Демонстрация работы с точкой в коробке ===

Введите координаты точки (x y z):

Введите x: 1.5

Введите y: -2.3

Введите z: 4.7

Точка помещена в коробку: Point3D(1.50, -2.30, 4.70)

Извлеченная точка: Point3D(1.50, -2.30, 4.70)
## 3.1. 
Функция. Разработайте такой метод, который будет принимать список значений типа T, и объект имеющий единственный метод apply. Данный метод надо применить к каждому элементу списка, и вернуть новый список значений типа P, при этом типы T и P могут совпадать, а могут не совпадать. Используйте разработанный метод следующим образом: 1. Передайте в метод список со значениями:“qwerty”, “asdfg”, “zx”, а получите список чисел, где каждое число соответствует длине каждой строки. 2. Передайте в метод список со значениями: 1,-3,7, а получите список в котором все отрицательные числа стали положительными, а положительные остались без изменений 3. Передайте в метод список состоящий из массивов целых чисел, а получите список в котором будут только максимальные значения каждого из исходных массивов

Алгоритм решения

Реализована операция map - преобразование каждого элемента списка с помощью функции.

Интерфейс Function<T, P>:

apply(T obj) - применяет функцию к объекту

Класс FunctionUtility:

applyFunction(List<T> list, Function<T, P> function) - применяет функцию ко всем элементам списка

Конкретные реализации:

StringLengthFunction - преобразует строки в их длины

AbsoluteValueFunction - вычисляет абсолютные значения чисел

Тестирование

=== Демонстрация applyFunction ===

Длины строк: [6, 5, 2]

Абсолютные значения: [1, 3, 7]

Максимальные значения массивов: [3, 0, 20]
## 3.2. 
Фильтр. Разработайте такой метод, который будет принимать список значений типа T и объект имеющий единственный метод test (принимает T и возвращает boolean). Верните новый список типа T, из которого удалены все значения не прошедшие проверку условием. Используйте разработанный метод следующим образом: 1. Передайте в метод список со значениями: “qwerty”, “asdfg”, “zx”, и отфильтруйте все строки имеющие менее трех символов 2. Передайте в метод список со значениями: 1,-3,7, и отфильтруйте все положительные элементы 3. Передайте в метод список состоящий из массивов целых чисел, а получите список в котором будут только те массивы, в которых нет ни одного положительного элемента

Алгоритм решения

Реализована операция filter - отбор элементов по условию.

Интерфейс Filter<T>:

test(T obj) - проверяет условие фильтра

Класс FilterUtility:

testFilter(List<T> list, Filter<T> filter) - фильтрует список по условию

Конкретные реализации:

StringLengthFilter - оставляет строки длиной ≥ 3 символов

NumberFilter - оставляет положительные числа

ArrayFilter - оставляет массивы без положительных элементов

Тестирование

=== Демонстрация filter ===

Строки длиной >= 3: [qwerty, asdfg]

Положительные числа: [1, 7]

Массивы без положительных элементов: [-1 -2 -3 ] [-10 -20 -5 ]
## 3.3. 
Сокращение. Разработайте такой метод, который будет принимать список значений типа T и способ с помощью которого список значений можно свести к одному значению типа T, которое и возвращается из метода. Используйте разработанный метод следующим образом: 1. Передайте в метод список со значениями: “qwerty”, “asdfg”, “zx”, и сформируйте одну большую строку, которая состоит из всех строк исходного списка. 2. Передайте в метод список со значениями: 1,-3,7, и верните сумму всех значений исходного списка. 3. Имеется список, состоящий из списков целых чисел, получите общеe количество элементов во всех списках. Подсказка: решить задачу можно в одно действие или последовательно использовать методы из 3.3.1 и 3.3.3. Далее необходимо изменить разработанный метод таким образом, чтобы данный метод гарантированно не возвращал null и не выбрасывал ошибок в том случае, если исходный список пуст.

Алгоритм решения

Реализована операция reduce - свертка списка в одно значение.

Интерфейс Reduction<T>:

reduc(T res, T obj) - объединяет два значения

Класс ReductionUtility:

reduce(List<T> list, BinaryOperator<T> operator, T identity) - сворачивает список в одно значение

Конкретные реализации:

Конкатенация строк: (s1, s2) -> s1 + s2 с identity = ""

Сумма чисел: Integer::sum с identity = 0

Подсчет элементов: (count, list) -> count + list.size() с identity = 0

Тестирование

=== Демонстрация reduce ===

Объединенная строка: qwertyasdfgzx

Сумма чисел: 5

Общее количество элементов: 9

Результат для пустого списка: default
## 3.4. 
Коллекционирование. Разработайте такой метод, который будет возвращать коллекцию типа P со значениями типа T. Данный метод будет принимать: 1. Список исходных значений 2. Способ создания результирующей коллекции 3. Способ передачи значений исходного списка в результирующую коллекцию. Используйте разработанный метод следующим образом: 1. Передайте в метод список со значениями: 1,-3,7, и верните их разбитыми на два подсписка, в одном из которых будут только положительные числа, а в другом только отрицательные. 2. Передайте в метод список со значениями: “qwerty”, “asdfg”, “zx”, “qw” и верните их разбитыми на подсписки таким образом, чтобы в любом подсписке были строки только одинаковой длины 3. Передайте в метод список со значениями: “qwerty”, “asdfg”, “qwerty”, “qw” и верните набор такого вида, который не может содержать одинаковые объекты.

Алгоритм решения

Реализована операция collect - преобразование списка в другую коллекцию.

Метод collect в UtilityMethods:

Принимает список, фабрику коллекции и аккумулятор

Возвращает заполненную коллекцию

Конкретные применения:

Разбиение чисел на положительные и отрицательные:

Коллекция: Map<String, List<Number>>

Аккумулятор: распределение по ключам "Положительные" и "Отрицательные"

Группировка строк по длине:

Коллекция: Map<Integer, List<String>>

Аккумулятор: группировка по String::length

Уникальные строки:

Коллекция: Set<String>

Аккумулятор: Set::add (автоматическая уникальность)

Тестирование

=== Демонстрация collect ===

Положительные числа: [1, 7, 5]

Отрицательные числа: [-3, -2]

Строки сгруппированы по длине: {2=[zx, qw], 5=[asdfg], 6=[qwerty]}

Уникальные строки: [qw, qwerty, asdfg]
